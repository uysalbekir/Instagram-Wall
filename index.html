<!DOCTYPE html>
<html>

<head>

    <title>Trappenhuis</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Oswald" />


</head>

<body>

    <script type="text/javascript">
        var token = '6024602419.362badb.dc1b32e482fb4d06b3afba268b016596',
            userid = 'self', // userid
            num_photos = 100; // Hoeveel afbeeldingen moeten er geladen worden

        // laad afbeeldingen van instagram van eigen account. (werkt alleen op eigen account!)
        function getData() { // Functie die objecten ophaalt
            $.ajax({
                url: 'https://api.instagram.com/v1/users/' + userid + '/media/recent', // URL waar de objecten worden opgehaald
                dataType: 'jsonp',
                type: 'GET', // Haal data op in JSON
                data: {
                    access_token: token, // Variabele waar de access token in staat
                    count: num_photos // Variabele waarin staat hoeveel afbeeldingen geladen worden
                },
                success: function(data) { // Als de objecten succesvol zijn opgehaald voert hij onderstaande uit
                    var allImages = ""; // De variabele waarin alle afbeeldingen worden geladen in een list
                    for (x in data.data) { // Data is de variabele, toevallig is de andere data de naam waarin alle informatie staat
                        allImages += '<li><img src="' + data.data[x].images.standard_resolution.url + '"></li>'; // Bepaal wat je wilt ophalen aan data. (in dit geval alleen de afbeeldingen in standaard resolutie.) en plaats dit in variabele
                    }
                    $('#photos').html(allImages); // Laad de inhoud van de variabele in de id
                },
                error: function(data) { // Als er geen objecten opgehaald kunnen worden dan wordt onderstaande uitgevoerd
                    console.log(data); // Stuur foutberichten naar de console
                }
            });
        }
        function refreshData() { // de functie die steeds wordt uitgevoerd op basis van de timer die onderaan de pagina staat zodat hij pas werkt wanneer de pagina volledig is geladen
            getData(); // Functie die objecten ophaalt
        }
    </script>

    <div class="col-md-12">
        <section id="photos"></section>
    </div>

    <footer>
        <h1>#FHICTSTAIRS</h1>
    </footer>

    <script>
        getData(); // Functie die objecten ophaalt
        setInterval(refreshData, 120000); // Hier wordt bepaald om de hoeveel tijd de functie getData() wordt uitgevoerd
    </script>

</body>

</html>
